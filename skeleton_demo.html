<!DOCTYPE html>
<html>
<head>
    <title>Products Loading Skeleton Test</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        /* Skeleton Loading Animation */
        @keyframes skeleton-loading {
            0% {
                background-position: -200px 0;
            }
            100% {
                background-position: calc(200px + 100%) 0;
            }
        }

        .skeleton-img {
            width: 100%;
            height: 200px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200px 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 0.25rem;
        }

        .skeleton-badge {
            width: 60px;
            height: 20px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200px 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 10px;
        }

        .skeleton-price {
            width: 80px;
            height: 25px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200px 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 12px;
        }

        .skeleton-title {
            width: 80%;
            height: 24px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200px 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 4px;
            margin-bottom: 8px;
        }

        .skeleton-text-small {
            width: 60%;
            height: 14px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200px 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 4px;
            margin-bottom: 6px;
        }

        .skeleton-text {
            width: 100%;
            height: 14px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200px 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 4px;
            margin-bottom: 6px;
        }

        .skeleton-text:last-child {
            width: 70%;
        }

        .skeleton-button {
            width: 100%;
            height: 32px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200px 100%;
            animation: skeleton-loading 1.5s infinite;
            border-radius: 4px;
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <div class="container mt-5">
        <h1>Products Loading Skeleton Demo</h1>
        <p>This demonstrates the loading skeleton animation for the products page.</p>
        
        <div class="mb-3">
            <button class="btn btn-primary" onclick="showSkeleton()">Show Skeleton</button>
            <button class="btn btn-success" onclick="hideSkeleton()">Show Products</button>
        </div>

        <!-- Loading Skeleton -->
        <div id="products-skeleton" class="row row-cols-sm-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4">
            <?php for($i = 0; $i < 8; $i++): ?>
            <div class="col px-1 py-2">
                <div class="card rounded-0 shadow h-100">
                    <div class="product-img-holder overflow-hidden position-relative">
                        <div class="skeleton-img"></div>
                        <div class="position-absolute" style="top:6px; left:6px;">
                            <div class="skeleton-badge"></div>
                        </div>
                        <div class="position-absolute" style="top:6px; right:6px;">
                            <div class="skeleton-badge"></div>
                        </div>
                        <div class="position-absolute price-tag rounded-pill" style="bottom:6px; right:6px;">
                            <div class="skeleton-price"></div>
                        </div>
                    </div>
                    <div class="card-body border-top d-flex flex-column">
                        <div class="skeleton-title"></div>
                        <div class="skeleton-text-small"></div>
                        <div class="skeleton-text-small"></div>
                        <div class="skeleton-text"></div>
                        <div class="skeleton-text"></div>
                        <div class="mt-3">
                            <div class="skeleton-button"></div>
                        </div>
                    </div>
                </div>
            </div>
            <?php endfor; ?>
        </div>

        <!-- Sample Products -->
        <div id="products-container" class="row row-cols-sm-1 row-cols-md-2 row-cols-lg-3 row-cols-xl-4" style="display: none;">
            <?php for($i = 1; $i <= 8; $i++): ?>
            <div class="col px-1 py-2">
                <div class="card rounded-0 shadow h-100">
                    <div class="product-img-holder overflow-hidden position-relative">
                        <img src="https://via.placeholder.com/300x200/007bff/ffffff?text=Product+<?= $i ?>" alt="Product Image" class="img-top"/>
                        <div class="position-absolute" style="top:6px; left:6px;">
                            <span class="badge badge-success">In Stock</span>
                        </div>
                        <div class="position-absolute" style="top:6px; right:6px;">
                            <span class="badge badge-primary">Compare</span>
                        </div>
                        <span class="position-absolute price-tag rounded-pill bg-success text-light px-3" style="bottom:6px; right:6px;">
                            <i class="fa fa-tags"></i> <b>â‚±<?= number_format(rand(10000, 50000), 2) ?></b>
                        </span>
                    </div>
                    <div class="card-body border-top d-flex flex-column">
                        <h4 class="card-title my-0"><b>Sample Product <?= $i ?></b></h4>
                        <small class="text-muted">Brand Name</small>
                        <small class="text-muted">Category</small>
                        <p class="m-0">This is a sample product description that shows how the content will look when loaded.</p>
                        <div class="mt-3">
                            <button class="btn btn-primary btn-sm w-100">
                                <i class="fa fa-cart-plus"></i> Add to Cart
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <?php endfor; ?>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        function showSkeleton() {
            $('#products-skeleton').show();
            $('#products-container').hide();
        }
        
        function hideSkeleton() {
            $('#products-skeleton').hide();
            $('#products-container').show().addClass('fade-in');
        }
        
        // Auto-demo on page load
        $(document).ready(function() {
            setTimeout(function() {
                hideSkeleton();
            }, 2000);
        });
    </script>
</body>
</html>
